<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <link rel="stylesheet" type="text/css" href="sas.css"/>
        <title>Configuration Settings for PostgreSQL Backup Using the SAS Viya Backup and Restore Utility</title>
    </head>
    <body>
        <h1 id="139641630719424configuration-settings-for-postgresql-backup-using-the-sas-viya-backup-and-restore-utility">Configuration Settings for PostgreSQL Backup Using the SAS Viya Backup and Restore Utility</h1>
<h2 id="139641630719424overview">Overview</h2>
<p>This README describes how to revise and apply the settings for
backing up PostgreSQL using the SAS Viya Backup and Restore Utility.</p>
<h2 id="139641630719424add-additional-options-for-postgresql-backup-command">Add Additional Options for PostgreSQL Backup Command</h2>
<ol>
<li>
<p>If you need to add or change any option for the PostgreSQL backup command (pg_dump),
add an entry to the sas-backup-job-parameters configMap in the configMapGenerator block of the base kustomization.yaml file (<code>$deploy/kustomization.yaml</code>).</p>
<pre class="highlight"><code class="language-yaml">configMapGenerator:
- name: sas-backup-job-parameters
  behavior: merge
  literals:
  - SAS_DATA_SERVER_BACKUP_ADDITIONAL_OPTIONS={{ OPTION-1-NAME OPTION-1-VALUE }},{{ FLAG-1 }},{{ OPTION-2-NAME OPTION-2-VALUE }}</code></pre>

<p>The {{ OPTION-NAME OPTION-VALUE }} and {{ FLAG }} variables should be a comma-separated list of options to be added, such as <code>-Z 0,--version</code>.</p>
<p>If the sas-backup-job-parameters configMap is already present in the (<code>$deploy/kustomization.yaml</code>) file, you should add the last line only. If the configMap is not present, add the entire example.</p>
<p><strong>Note:</strong> Do not use &ndash;format or -F in SAS_DATA_SERVER_BACKUP_ADDITIONAL_OPTIONS; the backup process defaults to directory format, ensuring compatibility during restoration.</p>
</li>
<li>
<p>Build and Apply the Manifest</p>
<p>As an administrator with cluster permissions, apply the edited files to your deployment by performing the steps described in <a href="https://documentation.sas.com/?cdcId=sasadmincdc&amp;cdcVersion=default&amp;docsetId=dplyml0phy0dkr&amp;docsetTarget=n1f2q6pp0gjheqn1jl204vptrubs.htm">Modify Existing Customizations in a Deployment</a>.</p>
</li>
</ol>
    </body>
</html>